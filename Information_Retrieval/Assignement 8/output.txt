CODE : 

import requests
import dotenv
import os

dotenv.load_dotenv()


def get_coordinates(city):
    url = "https://geocoding-api.open-meteo.com/v1/search"
    params = {"name": city, "count": 1}
    response = requests.get(url, params=params)
    data = response.json()

    if "results" in data and len(data["results"]) > 0:
        result = data["results"][0]
        return (
            result["latitude"],
            result["longitude"],
            result["name"],
            result.get("country", ""),
        )
    else:
        return None, None, None, None


def get_weather(city):
    lat, lon, city_name, country = get_coordinates(city)
    if lat is None:
        print(f"City '{city}' not found.")
        return

    API_KEY = os.getenv("API_KEY")

    url = f"https://api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={API_KEY}"
    params = {"latitude": lat, "longitude": lon, "current_weather": True}
    response = requests.get(url, params=params)
    data = response.json()

    if "weather" in data:
        weather = data["weather"][0]["main"]
        description = data["weather"][0]["description"]

    if "main" in data:
        temp = data["main"]["temp"]

    if "wind" in data:
        wind_speed = data["wind"]["speed"]

        print(f"{city_name}'s temperature: {temp}째C")
        print(f"Wind speed: {wind_speed} m/s")
        print(f"Description: {description}")
        print(f"Weather: {weather}")
    else:
        print("Weather data not available.")


if __name__ == "__main__":
    city = input("Enter the city: ")
    get_weather(city)


OUTPUT :

PS D:\BE-IT-Practicals\Information_Retrieval\Assignement 8> python A8.py
Enter the city: Pune
Pune's temperature: 298.14째C
Wind speed: 2.54 m/s
Description: clear sky
Weather: Clear
PS D:\BE-IT-Practicals\Information_Retrieval\Assignement 8> python A8.py
Enter the city: Bangalore
Bengaluru's temperature: 297.66째C
Wind speed: 2.44 m/s
Description: overcast clouds
Weather: Clouds
PS D:\BE-IT-Practicals\Information_Retrieval\Assignement 8> python A8.py
Enter the city: Tokyo
Tokyo's temperature: 295.35째C
Wind speed: 2.17 m/s
Description: broken clouds
Weather: Clouds
PS D:\BE-IT-Practicals\Information_Retrieval\Assignement 8> 